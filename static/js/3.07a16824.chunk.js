(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{105:function(t,e,n){},107:function(t,e,n){},108:function(t,e,n){t.exports={Contact_form:"ContactForm_Contact_form__2zU6_"}},109:function(t,e,n){},112:function(t,e,n){"use strict";n.r(e);var a=n(30),c=n(31),r=n(33),o=n(32),u=n(0),i=n.n(u),s=n(13),l=n(113),m=n(36),f=n.n(m),p=(n(49),n(102)),C=n(19),b=n.n(C),h=n(9);b.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var d={fetchContacts:function(){return function(t){t(h.a.fetchContactsRequest()),b.a.get("/contacts").then((function(e){t(h.a.fetchContactsSuccess(e.data))})).catch((function(e){return t(h.a.fetchContactsError(e))}))}},addContact:function(t){var e=t.name,n=t.number;return function(t){t(h.a.addContactsRequest()),b.a.post("/contacts",{name:e,number:n}).then((function(e){var n=e.data;return t(h.a.addContactsSuccess(n))})).catch((function(e){return t(h.a.addContactsError(e))}))}},removeContacts:function(t){return function(e){e(h.a.removeContactsRequest()),b.a.delete("/contacts/".concat(t)).then((function(){return e(h.a.removeContactsSuccess(t))})).catch((function(t){return e(h.a.removeContactsError(t))}))}}},v=n(15),E=function(t){return t.contacts.items},g=function(t){return t.contacts.filter},N={getLoading:function(t){return t.contacts.loading},getFilter:g,getVisibleContacts:Object(v.a)([E,g],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),getContacts:E,getContactByID:Object(v.a)([function(t,e){return e},E],(function(t,e){return e.find((function(e){return e.id===t}))}))},O=(n(107),Object(s.b)((function(t,e){return t.contacts.items.length>4?{isContact:!0,nameContact:10}:{isContact:!1}}),null)((function(t){var e=t.text;return i.a.createElement(l.a,{in:!0,appear:!0,timeout:500,classNames:"anim",unmountOnExit:!0},i.a.createElement("div",{className:"alert"},e))}))),y=n(108),j=n.n(y),F={nameContact:"",numberContact:""},_=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state=F,t.inputName=function(e){var n=e.target;t.setState({nameContact:n.value})},t.inputNumber=function(e){var n=e.target;t.setState({numberContact:n.value})},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.nameContact,c=n.numberContact;(0,t.props.onAddContact)(a,c),t.setState(Object(p.a)({},F))},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.nameContact,n=t.numberContact,a=this.props.itemsArray.map((function(t){return t.name.toLowerCase()})).includes(e.toLowerCase());return i.a.createElement(i.a.Fragment,null,a&&i.a.createElement(O,{text:"Contact already exist"}),i.a.createElement("form",{onSubmit:this.handleSubmit,className:j.a.Contact_form},i.a.createElement("label",null,"Name",i.a.createElement("input",{className:j.a.inputName,type:"text",value:e,onChange:this.inputName})),i.a.createElement("label",null,"Number",i.a.createElement("input",{placeholder:"XXX-XX-XX",type:"tel",pattern:"[0-9]{3}-[0-9]{2}-[0-9]{2}",value:n,onChange:this.inputNumber})),i.a.createElement("button",{type:"submit"},"ADD CONTACT")))}}]),n}(u.Component),k=Object(s.b)((function(t){return{itemsArray:N.getContacts(t)}}),(function(t){return{onAddContact:function(e,n){return t(d.addContact({name:e,number:n}))}}}))(_),x=n(114),w=(n(105),Object(s.b)((function(t,e){var n=e.id;return Object(p.a)({},N.getContactByID(t,n))}),(function(t,e){var n=e.id;return{onDeleteContact:function(){return t(d.removeContacts(n))}}}))((function(t){var e=t.name,n=t.number,a=t.onDeleteContact;return i.a.createElement("li",{className:"phone_Item"},i.a.createElement("span",{className:"phone_name"},e),i.a.createElement("span",{className:"phone_number"},n),i.a.createElement("button",{type:"button",onClick:a}))}))),D=Object(s.b)((function(t){return{contacts:N.getVisibleContacts(t)}}),null)((function(t){var e=t.contacts,n=0===e.length;return i.a.createElement(i.a.Fragment,null,n&&i.a.createElement(O,{text:"No have contact"}),i.a.createElement(x.a,{component:"ul",className:"contact_list"},e.map((function(t){var e=t.id;return i.a.createElement(l.a,{key:e,timeout:250,classNames:"list"},i.a.createElement(w,{id:e}))}))))})),L=(n(109),{inputFilter:h.a.changeFilter}),S=Object(s.b)((function(t){return N.getContacts(t).length>1?{value:N.getFilter(t),isContact:!0}:{value:N.getFilter(t)}}),L)((function(t){var e=t.value,n=t.inputFilter,a=t.isContact;return i.a.createElement(i.a.Fragment,null,a&&i.a.createElement(l.a,{in:!0,appear:!0,classNames:"find",timeout:500,unmountOnExit:!0},i.a.createElement("div",{className:"findContact"},i.a.createElement("p",null,"Find contacts by name or number"),i.a.createElement("input",{className:"inputName",type:"text",value:e,onChange:function(t){var e=t.target;return n(e.value)}}))))})),A=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"phoneBook_container"},i.a.createElement(l.a,{in:!0,appear:!0,classNames:"title_anim",timeout:500,unmountOnExit:!0},i.a.createElement("h1",{className:"title"},"Phonebook")),i.a.createElement(l.a,{in:!0,appear:!0,classNames:"form_fade",timeout:500,unmountOnExit:!0},i.a.createElement(k,null)),i.a.createElement(S,null),this.props.isLoadingContacts&&i.a.createElement(f.a,{type:"ThreeDots",color:"#f5f505",height:50,width:100,timeout:3e3}),i.a.createElement(D,null)))}}]),n}(u.Component),X={onFetchContacts:d.fetchContacts};e.default=Object(s.b)((function(t){return{isLoadingContacts:N.getLoading(t)}}),X)(A)}}]);
//# sourceMappingURL=3.07a16824.chunk.js.map