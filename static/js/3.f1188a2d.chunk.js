(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{105:function(t,e,n){},107:function(t,e,n){},108:function(t,e,n){t.exports={Contact_form:"ContactForm_Contact_form__2zU6_"}},109:function(t,e,n){},112:function(t,e,n){"use strict";n.r(e);var a=n(30),c=n(31),r=n(33),o=n(32),u=n(0),i=n.n(u),s=n(13),l=n(113),m=n(102),f=n(19),p=n.n(f),C=n(9);p.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var b={fetchContacts:function(){return function(t){t(C.a.fetchContactsRequest()),p.a.get("/contacts").then((function(e){t(C.a.fetchContactsSuccess(e.data))})).catch((function(e){return t(C.a.fetchContactsError(e))}))}},addContact:function(t){var e=t.name,n=t.number;return function(t){t(C.a.addContactsRequest()),p.a.post("/contacts",{name:e,number:n}).then((function(e){var n=e.data;return t(C.a.addContactsSuccess(n))})).catch((function(e){return t(C.a.addContactsError(e))}))}},removeContacts:function(t){return function(e){e(C.a.removeContactsRequest()),p.a.delete("/contacts/".concat(t)).then((function(){return e(C.a.removeContactsSuccess(t))})).catch((function(t){return e(C.a.removeContactsError(t))}))}}},h=n(15),d=function(t){return t.contacts.items},v=function(t){return t.contacts.filter},E={getLoading:function(t){return t.contacts.loading},getFilter:v,getVisibleContacts:Object(h.a)([d,v],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),getContacts:d,getContactByID:Object(h.a)([function(t,e){return e},d],(function(t,e){return e.find((function(e){return e.id===t}))}))},g=(n(107),Object(s.b)((function(t,e){return t.contacts.items.length>4?{isContact:!0,nameContact:10}:{isContact:!1}}),null)((function(t){var e=t.text;return i.a.createElement(l.a,{in:!0,appear:!0,timeout:500,classNames:"anim",unmountOnExit:!0},i.a.createElement("div",{className:"alert"},e))}))),N=n(108),O=n.n(N),j={nameContact:"",numberContact:""},y=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state=j,t.inputName=function(e){var n=e.target;t.setState({nameContact:n.value})},t.inputNumber=function(e){var n=e.target;t.setState({numberContact:n.value})},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.nameContact,c=n.numberContact;(0,t.props.onAddContact)(a,c),t.setState(Object(m.a)({},j))},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.nameContact,n=t.numberContact,a=this.props.itemsArray.map((function(t){return t.name.toLowerCase()})).includes(e.toLowerCase());return i.a.createElement(i.a.Fragment,null,a&&i.a.createElement(g,{text:"Contact already exist"}),i.a.createElement("form",{onSubmit:this.handleSubmit,className:O.a.Contact_form},i.a.createElement("label",null,"Name",i.a.createElement("input",{className:O.a.inputName,type:"text",value:e,onChange:this.inputName})),i.a.createElement("label",null,"Number",i.a.createElement("input",{placeholder:"XXX-XX-XX",type:"tel",pattern:"[0-9]{3}-[0-9]{2}-[0-9]{2}",value:n,onChange:this.inputNumber})),i.a.createElement("button",{type:"submit"},"ADD CONTACT")))}}]),n}(u.Component),F=Object(s.b)((function(t){return{itemsArray:E.getContacts(t)}}),(function(t){return{onAddContact:function(e,n){return t(b.addContact({name:e,number:n}))}}}))(y),_=n(114),k=(n(105),Object(s.b)((function(t,e){var n=e.id;return Object(m.a)({},E.getContactByID(t,n))}),(function(t,e){var n=e.id;return{onDeleteContact:function(){return t(b.removeContacts(n))}}}))((function(t){var e=t.name,n=t.number,a=t.onDeleteContact;return i.a.createElement("li",{className:"phone_Item"},i.a.createElement("span",{className:"phone_name"},e),i.a.createElement("span",{className:"phone_number"},n),i.a.createElement("button",{type:"button",onClick:a}))}))),x=Object(s.b)((function(t){return{contacts:E.getVisibleContacts(t)}}),null)((function(t){var e=t.contacts,n=0===e.length;return i.a.createElement(i.a.Fragment,null,n&&i.a.createElement(g,{text:"No have contact"}),i.a.createElement(_.a,{component:"ul",className:"contact_list"},e.map((function(t){var e=t.id;return i.a.createElement(l.a,{key:e,timeout:250,classNames:"list"},i.a.createElement(k,{id:e}))}))))})),w=(n(109),{inputFilter:C.a.changeFilter}),L=Object(s.b)((function(t){return E.getContacts(t).length>1?{value:E.getFilter(t),isContact:!0}:{value:E.getFilter(t)}}),w)((function(t){var e=t.value,n=t.inputFilter,a=t.isContact;return i.a.createElement(i.a.Fragment,null,a&&i.a.createElement(l.a,{in:!0,appear:!0,classNames:"find",timeout:500,unmountOnExit:!0},i.a.createElement("div",{className:"findContact"},i.a.createElement("p",null,"Find contacts by name or number"),i.a.createElement("input",{className:"inputName",type:"text",value:e,onChange:function(t){var e=t.target;return n(e.value)}}))))})),S=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"phoneBook_container"},i.a.createElement(l.a,{in:!0,appear:!0,classNames:"title_anim",timeout:500,unmountOnExit:!0},i.a.createElement("h1",{className:"title"},"Phonebook")),i.a.createElement(l.a,{in:!0,appear:!0,classNames:"form_fade",timeout:500,unmountOnExit:!0},i.a.createElement(F,null)),i.a.createElement(L,null),this.props.isLoadingContacts&&i.a.createElement("h1",null,"\u0433\u0440\u0443\u0437\u0438\u043c"),i.a.createElement(x,null)))}}]),n}(u.Component),D={onFetchContacts:b.fetchContacts};e.default=Object(s.b)((function(t){return{isLoadingContacts:E.getLoading(t)}}),D)(S)}}]);
//# sourceMappingURL=3.f1188a2d.chunk.js.map